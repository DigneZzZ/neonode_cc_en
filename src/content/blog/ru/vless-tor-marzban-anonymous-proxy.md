---
title: "–ê–Ω–æ–Ω–∏–º–Ω—ã–π VLESS+TCP+REALITY —á–µ—Ä–µ–∑ TOR –≤ Marzban: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ —Å SOCKS5"
description: "–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –±–∞–∑–µ Marzban, XRay –∏ TOR —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º VLESS+REALITY –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ SOCKS5 –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ .onion-—Ä–µ—Å—É—Ä—Å–∞–º –∏ —Å–æ–∫—Ä—ã—Ç–∏—è IP-–∞–¥—Ä–µ—Å–∞."
tags:
  - vless
  - tor
  - marzban
  - xray
  - –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å
  - socks5
  - –ø—Ä–æ–∫—Å–∏
  - .onion
  - vpn
  - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
pubDate: 05 11 2025
---

# –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã–π VLESS+TCP+REALITY —á–µ—Ä–µ–∑ TOR –≤ Marzban

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä —Å –ø–æ–º–æ—â—å—é **Marzban**, **XRay** –∏ **TOR**. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–∑–≤–æ–ª–∏—Ç —Å–∫—Ä—ã–≤–∞—Ç—å IP-–∞–¥—Ä–µ—Å, –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ñ–∏–∫ —á–µ—Ä–µ–∑ SOCKS5-–ø—Ä–æ–∫—Å–∏ –∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç–∞–º –∏–∑ —Å–µ—Ç–∏ .onion. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ VPN**, –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏.

```bash

+----------+        +--------+--------+
\| \*ray     |        | \*ray   | Tor    |
\| Client   +------->+ Server + Client +------> TOR
\|          |        |        |        |
+----------+        +--------+--------+

```

---

## üîê –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ —á–µ—Ä–µ–∑ TOR
–í–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –±—É–¥–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Å–µ—Ç—å **TOR**, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç **—Å–∫—Ä—ã—Ç—å IP-–∞–¥—Ä–µ—Å** —Å–µ—Ä–≤–µ—Ä–∞.

### –î–æ—Å—Ç—É–ø –∫ .onion-—Å–∞–π—Ç–∞–º
TOR –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∑–∞–∫—Ä—ã—Ç—ã–º —Ä–µ—Å—É—Ä—Å–∞–º –≤ —Å–µ—Ç–∏ **.onion**, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –æ–±—ã—á–Ω–æ–π —Å–µ—Ç–∏.

### –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –æ–±—Ö–æ–¥ —Ü–µ–Ω–∑—É—Ä—ã
–ü—Ä–∏–º–µ–Ω—è—è **VLESS TCP + Reality + TOR**, –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ **–∞–Ω–æ–Ω–∏–º–Ω—ã–π VPN —Å SOCKS5-–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π**, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ö–æ–¥–∏—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –ø–æ–≤—ã—à–∞–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ TOR-–ø—Ä–æ–∫—Å–∏ (SOCKS5) –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
apt update
apt install tor -y
```

TOR –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É `9050`.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:

```bash
apt install curl -y
curl --socks5-hostname 127.0.0.1:9050 https://check.torproject.org
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```text
Congratulations. This browser is configured to use Tor.
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ XRay –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ —á–µ—Ä–µ–∑ TOR

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é XRay —Å **–≤—Ö–æ–¥–æ–º VLESS REALITY** –∏ **–≤—ã—Ö–æ–¥–æ–º —á–µ—Ä–µ–∑ socks5-–ø—Ä–æ–∫—Å–∏ TOR**.

```json
{
  "log": { "loglevel": "warning" },
  "routing": {
    "rules": [
      {
        "ip": ["geoip:private"],
        "outboundTag": "BLOCK",
        "type": "field"
      },
      {
        "type": "field",
        "domain": ["geosite:category-ads-all"],
        "outboundTag": "tor-out"
      }
    ]
  },
  "inbounds": [
    {
      "tag": "VLESS+TCP+REALITY+8443",
      "listen": "0.0.0.0",
      "port": 8443,
      "protocol": "vless",
      "settings": {
        "clients": [],
        "decryption": "none"
      },
      "streamSettings": {
        "network": "tcp",
        "security": "reality",
        "tcpSettings": { "header": { "type": "none" } },
        "realitySettings": {
          "show": false,
          "dest": "cloudflare.com:443",
          "xver": 0,
          "serverNames": ["cloudflare.com", "www.cloudflare.com"],
          "privateKey": "<your_private_key>",
          "publicKey": "<your_public_key>",
          "shortIds": ["<your_short_id>"],
          "spiderX": "/",
          "fingerprint": "chrome"
        }
      },
      "sniffing": {
        "enabled": true,
        "destOverride": ["http", "tls"]
      }
    }
  ],
  "outbounds": [
    {
      "tag": "tor-out",
      "protocol": "socks",
      "settings": {
        "servers": [
          { "address": "127.0.0.1", "port": 9050 }
        ]
      }
    },
    { "protocol": "freedom", "tag": "DIRECT" },
    { "protocol": "blackhole", "tag": "BLOCK" }
  ]
}
```

---

## üîë –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –¥–ª—è Reality (x25519)

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Marzban –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é:

```bash
docker ps
docker exec -it marzban-backend bash
xray x25519
exit
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:

```bash
docker exec marzban-backend xray x25519
```

---

## üîÅ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è shortId

```bash
head /dev/urandom | tr -dc 'a-f0-9' | head -c 16
# –∏–ª–∏
openssl rand -hex 8
```

---

## üï∏ –ü–æ–¥–±–æ—Ä SNI –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏

–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–æ–º–µ–Ω—ã –≤—Ä–æ–¥–µ `cloudflare.com`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ SNI —á–µ—Ä–µ–∑ [RealiTLScanner](https://github.com/XTLS/RealiTLScanner).

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω **–∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –Ω–∞ Linux**, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ **VLESS TCP REALITY + TOR**. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

* –°–∫—Ä—ã—Ç–∏–µ IP-–∞–¥—Ä–µ—Å–∞ –∏ –æ–±—Ö–æ–¥ —Ü–µ–Ω–∑—É—Ä—ã
* –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ç–∏ .onion
* SOCKS5-–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞

–û–±–Ω–æ–≤–ª—è–π—Ç–µ —è–¥—Ä–æ **XRay**, —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é **TOR** –∏ –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –±–µ–∑–æ–ø–∞—Å–Ω–æ!

---

–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å **–ª–∏—á–Ω—ã–π –∞–Ω–æ–Ω–∏–º–Ω—ã–π VPN**, —Å–∫—Ä—ã—Ç—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –≤ —Å–µ—Ç–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å —Ç—Ä–∞—Ñ–∏–∫–∞.
